import{j as t,r as p}from"./main-s59jg1p6.js";import{W as u,C as S}from"./Workspace-dhqDUFlS.js";import"./api-C4gthKOt.js";import"./generateCategoricalChart-BEzwoDwx.js";import"./isEqual-CbwJbcWA.js";import"./LineChart-D6Sprcv3.js";import"./BarChart-YBce7vfN.js";import"./sparkles-CS5_fDse.js";function w(){return t.jsx("span",{"aria-hidden":!0,className:"inline-block h-5 w-5 rounded-lg bg-gradient-to-br from-indigo-500 via-fuchsia-500 to-rose-500 shadow-sm"})}const l="lit_companies";function I(){const[f,x]=p.useState(!1),[c,d]=p.useState([]);p.useEffect(()=>{try{const s=localStorage.getItem(l),r=localStorage.getItem("manualCompanies"),n=s?JSON.parse(s):[],i=r?JSON.parse(r):[],e=new Map;[...n,...i].forEach(a=>{const g=String((a==null?void 0:a.id)||(a==null?void 0:a.company_id)||"");g&&(e.has(g)||e.set(g,a))});const o=Array.from(e.values());o.length&&d(o)}catch{}const m=s=>{if(s.key===l||s.key==="manualCompanies")try{const r=JSON.parse(localStorage.getItem(l)||"[]"),n=JSON.parse(localStorage.getItem("manualCompanies")||"[]"),i=new Map;[...r,...n].forEach(e=>{const o=String((e==null?void 0:e.id)||(e==null?void 0:e.company_id)||"");o&&!i.has(o)&&i.set(o,e)}),d(Array.from(i.values()))}catch{}};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]),p.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(c))}catch{}},[c]);function h(m,s){const r={id:m,name:s,kpis:{shipments12m:0,lastActivity:null,originsTop:[],destsTop:[],carriersTop:[]},charts:{growth:[],ecosystem:[],competition:[{k:"Scale",[s]:7,Market:7}],sourcing:[]},ai:{summary:"Pending enrichment…",bullets:["—"]}};d(n=>[r,...n])}return t.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-white",children:[t.jsx("div",{className:"pl-[5px] pr-[5px] pt-[5px]",children:t.jsxs("header",{className:"mb-[5px] flex items-center gap-[5px]",children:[t.jsx(w,{}),t.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"LIT Command Center"})]})}),t.jsxs("div",{className:"flex gap-[5px] pl-[5px] pr-[5px]",children:[t.jsx("aside",{className:"w-[340px] shrink-0",children:t.jsx(u,{companies:c,onAdd:()=>x(!0)})}),t.jsx("main",{className:"flex-1 min-w-0"})]}),t.jsx(S,{open:f,onClose:()=>x(!1),onCreated:h})]})}export{I as default};
