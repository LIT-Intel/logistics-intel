import{r,j as a}from"./main-Co9m5o5q.js";import{h as c}from"./api-NOv4a-LP.js";function u({open:l,onClose:n,onCreated:o}){const[e,s]=r.useState({name:"",domain:"",city:"",state:"",country:"US"}),[d,i]=r.useState(!1);return l?a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:a.jsxs("div",{className:"rounded-2xl bg-white w-full max-w-lg p-5 space-y-3",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Add Company"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{className:"border rounded p-2 col-span-2",placeholder:"Company Name*",value:e.name,onChange:t=>s({...e,name:t.target.value})}),a.jsx("input",{className:"border rounded p-2 col-span-2",placeholder:"Domain (optional)",value:e.domain,onChange:t=>s({...e,domain:t.target.value})}),a.jsx("input",{className:"border rounded p-2",placeholder:"City",value:e.city,onChange:t=>s({...e,city:t.target.value})}),a.jsx("input",{className:"border rounded p-2",placeholder:"State",value:e.state,onChange:t=>s({...e,state:t.target.value})}),a.jsx("input",{className:"border rounded p-2 col-span-2",placeholder:"Country (default US)",value:e.country,onChange:t=>s({...e,country:t.target.value})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{className:"px-3 py-1.5 rounded border",onClick:n,children:"Cancel"}),a.jsx("button",{disabled:d||!e.name,className:"px-3 py-1.5 rounded border bg-slate-900 text-white",onClick:async()=>{try{i(!0);const t=await c({name:e.name,domain:e.domain||void 0,city:e.city||void 0,state:e.state||void 0,country:e.country||"US"});o(String((t==null?void 0:t.company_id)||""),e.name)}finally{i(!1),n()}},children:"Create"})]})]})}):null}function x(){const[l,n]=r.useState(!1),[o,e]=r.useState([]);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Companies"}),a.jsx("button",{className:"rounded border px-3 py-1.5",onClick:()=>n(!0),children:"Add Company"})]}),a.jsx(u,{open:l,onClose:()=>n(!1),onCreated:(s,d)=>e([{id:s,name:d},...o])}),a.jsx("div",{className:"mt-4 grid gap-2",children:o.map(s=>a.jsx("a",{href:`/company/${s.id}`,className:"rounded border p-3 bg-white hover:shadow",children:s.name},s.id))})]})}export{x as default};
