import{c as h,r as c,j as e}from"./main-CNsx_jBw.js";import{Shipment as y}from"./entities-BF_CoRhL.js";import{E as f}from"./eye-DWnyz6lD.js";import{S as u}from"./ship-Ct-iLhd8.js";import{P as g,T as j}from"./truck-Bju4slez.js";import{C as d}from"./clock-DbEzsoq3.js";import{C as w}from"./circle-check-big-aZB5QkZW.js";import"./base44Client-C-YMJfZQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],b=h("ExternalLink",N);function v(n){const r="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return n==="ocean"?{cls:r+" bg-blue-100 text-blue-800",icon:u}:n==="air"?{cls:r+" bg-purple-100 text-purple-800",icon:g}:n==="truck"?{cls:r+" bg-green-100 text-green-800",icon:j}:{cls:r+" bg-gray-100 text-gray-800",icon:u}}function k(n){const r="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";if(!n)return{cls:r+" bg-gray-100 text-gray-800",icon:d};const i=String(n).toLowerCase();return i.includes("delivered")||i.includes("complete")?{cls:r+" bg-green-100 text-green-800",icon:w}:i.includes("in transit")?{cls:r+" bg-yellow-100 text-yellow-800",icon:d}:{cls:r+" bg-gray-100 text-gray-800",icon:d}}function I(){const[n,r]=c.useState([]),[i,x]=c.useState(!0),[m,p]=c.useState(null);return c.useEffect(()=>{let t=!0;return(async()=>{x(!0),p(null);try{const a=await y.list("-date",250),o=(Array.isArray(a)?a:(a==null?void 0:a.data)||(a==null?void 0:a.items)||[]).map(s=>({id:s.id,company_name:s.company_name||s.buyer_name||"—",route:s.route||[s.origin,s.destination].filter(Boolean).join(" → "),mode:(s.mode||s.transport_mode||"ocean").toLowerCase(),date:s.date||s.created_date,value:s.value_usd||s.value||0,status:s.status||s.delivery_status||"In Transit"}));t&&r(o)}catch(a){t&&p((a==null?void 0:a.message)||"Failed to load shipments")}finally{t&&x(!1)}})(),()=>{t=!1}},[]),i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[e.jsx("div",{className:"text-red-800 font-semibold mb-1",children:"Transaction Load Error"}),e.jsx("div",{className:"text-red-700 text-sm",children:m})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipment Transactions"})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200/60 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipment ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mode"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>{const a=v(t.mode),l=k(t.status),o=a.icon,s=l.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:["#",String(t.id).slice(0,8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.company_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.route||"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:a.cls,children:[e.jsx(o,{size:12,className:"mr-1"}),String(t.mode).toUpperCase()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.date?new Date(t.date).toLocaleDateString():"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.value?`$${Number(t.value).toLocaleString()}`:"—"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:l.cls,children:[e.jsx(s,{size:12,className:"mr-1"}),t.status]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 mr-3",title:"View",children:e.jsx(f,{size:16})}),e.jsx("button",{className:"text-green-600 hover:text-green-800",title:"Open",children:e.jsx(b,{size:16})})]})]},t.id)})})]})})})]})}export{I as default};
