import{c as y,j as e,B as w,r as c}from"./main-B-bV0W0D.js";import{W as f,C as j}from"./Workspace-BDhJcGQY.js";import"./api-TqeaqbUn.js";import"./generateCategoricalChart-hEVjFNDz.js";import"./isEqual-BJTunC29.js";import"./LineChart-BhqSSCTw.js";import"./BarChart-NcPmyKLH.js";import"./sparkles-BPGb_L6k.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],S=y("Menu",N);function b(){return e.jsx("span",{"aria-hidden":!0,className:"inline-block h-5 w-5 rounded-lg bg-gradient-to-br from-indigo-500 via-fuchsia-500 to-rose-500 shadow-sm"})}function v({className:p=""}){return e.jsx("div",{className:p,children:e.jsxs("details",{className:"md:hidden",children:[e.jsx("summary",{children:e.jsxs(w,{variant:"outline",className:"w-full rounded-xl flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"})," Companies"]})}),e.jsx("div",{className:"mt-2 rounded-xl border bg-white p-3 max-h-[70vh] overflow-y-auto"})]})})}const d="lit_companies";function J(){const[p,x]=c.useState(!1),[l,u]=c.useState([]);c.useEffect(()=>{try{const a=localStorage.getItem(d),n=localStorage.getItem("manualCompanies"),r=a?JSON.parse(a):[],i=n?JSON.parse(n):[],s=new Map;[...r,...i].forEach(t=>{const h=String((t==null?void 0:t.id)||(t==null?void 0:t.company_id)||"");h&&(s.has(h)||s.set(h,t))});const o=Array.from(s.values());o.length&&u(o)}catch{}const m=a=>{if(a.key===d||a.key==="manualCompanies")try{const n=JSON.parse(localStorage.getItem(d)||"[]"),r=JSON.parse(localStorage.getItem("manualCompanies")||"[]"),i=new Map;[...n,...r].forEach(s=>{const o=String((s==null?void 0:s.id)||(s==null?void 0:s.company_id)||"");o&&!i.has(o)&&i.set(o,s)}),u(Array.from(i.values()))}catch{}};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]),c.useEffect(()=>{try{localStorage.setItem(d,JSON.stringify(l))}catch{}},[l]);function g(m,a){const n={id:m,name:a,kpis:{shipments12m:0,lastActivity:null,originsTop:[],destsTop:[],carriersTop:[]},charts:{growth:[],ecosystem:[],competition:[{k:"Scale",[a]:7,Market:7}],sourcing:[]},ai:{summary:"Pending enrichment…",bullets:["—"]}};u(r=>[n,...r])}return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-white",children:[e.jsx("div",{className:"pl-[5px] pr-[5px] pt-[5px]",children:e.jsxs("header",{className:"mb-[5px] flex items-center gap-[5px]",children:[e.jsx(b,{}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"LIT Command Center"})]})}),e.jsxs("div",{className:"w-full flex gap-[5px] pl-[5px] pr-[5px]",children:[e.jsx("aside",{className:"hidden md:block w-[340px] shrink-0",children:e.jsx(f,{companies:l,onAdd:()=>x(!0)})}),e.jsxs("main",{className:"flex-1 min-w-0 max-w-none",children:[e.jsx(v,{className:"md:hidden mb-2"}),e.jsx("section",{id:"company-pdf-root",className:"w-full",children:e.jsx(f,{companies:l,onAdd:()=>x(!0)})})]})]}),e.jsx(j,{open:p,onClose:()=>x(!1),onCreated:g})]})}export{J as default};
