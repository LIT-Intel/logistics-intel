import{c as b,r as d,j as e,C as i,b as l,B as x,d as n,e as o,T as _}from"./main-B-bV0W0D.js";import{User as A,Affiliate as T}from"./entities-CpFcElq0.js";import{I as U}from"./input-CKIaCwdU.js";import{B as j}from"./badge-BVcjr2_v.js";import{S as $,D as f}from"./star-Yj_WP0oh.js";import{m as c}from"./proxy-CkuhsBeh.js";import{U as u}from"./users-CHeejsdb.js";import{T as L}from"./target-D7N9AyiK.js";import{C as D}from"./circle-check-big-BlwlEt5T.js";import{Z as E}from"./zap-b3jUrrc7.js";import"./base44Client-C-YMJfZQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],F=b("Copy",I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],O=b("Gift",M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],z=b("Share",B);function se(){const[r,y]=d.useState(null),[t,N]=d.useState(null),[v,w]=d.useState(!0),[h,p]=d.useState(!1),[m,k]=d.useState({totalReferrals:0,activeReferrals:0,totalCommissions:0,pendingCommissions:0,conversionRate:0});d.useEffect(()=>{C()},[]);const C=async()=>{try{const s=await A.me();if(y(s),s.role==="admin"||s.affiliate_status==="active"){const a=await T.filter({user_id:s.id});a&&a.length>0&&N(a[0])}k({totalReferrals:12,activeReferrals:8,totalCommissions:2450,pendingCommissions:450,conversionRate:15.2})}catch(s){console.error("Error loading affiliate data:",s)}w(!1)},R=async()=>{const s=`https://logisticintel.com?ref=${(t==null?void 0:t.ref_code)||"YOUR_CODE"}`;try{await navigator.clipboard.writeText(s),p(!0),setTimeout(()=>p(!1),2e3)}catch(a){console.error("Failed to copy link:",a)}},g=s=>{const a=`https://logisticintel.com?ref=${(t==null?void 0:t.ref_code)||"YOUR_CODE"}`,S={twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent("Discover powerful trade intelligence with Logistic Intel - the platform that's transforming freight sales!")}&url=${encodeURIComponent(a)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(a)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`};window.open(S[s],"_blank","width=600,height=400")};return v?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#F6F8FB]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E5EFF]"})}):(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.affiliate_status)==="active"?e.jsx("div",{className:"p-4 md:p-6 lg:p-8 bg-gradient-to-br from-gray-50 to-blue-50/30 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 lg:mb-8 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900",children:"Affiliate Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Track your referrals and commission earnings"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs(j,{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 border-0",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),(r==null?void 0:r.role)==="admin"?"Admin Partner":"Active Affiliate"]}),(t==null?void 0:t.ref_code)&&e.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:["Code: ",t.ref_code]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60 hover:shadow-xl transition-all duration-300",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Total Referrals"]})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:m.totalReferrals}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+3 this month"})]})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60 hover:shadow-xl transition-all duration-300",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Active Users"]})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:m.activeReferrals}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Currently paying"})]})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60 hover:shadow-xl transition-all duration-300",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Total Earned"]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",m.totalCommissions.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All time"})]})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60 hover:shadow-xl transition-all duration-300",children:[e.jsx(n,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Conversion Rate"]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[m.conversionRate,"%"]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+2.1% vs last month"})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2",children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60",children:[e.jsx(n,{children:e.jsxs(o,{className:"flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Your Referral Link"]})}),e.jsxs(l,{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(U,{value:`https://logisticintel.com?ref=${(t==null?void 0:t.ref_code)||"YOUR_CODE"}`,readOnly:!0,className:"flex-1 font-mono text-sm"}),e.jsx(x,{onClick:R,variant:h?"default":"outline",className:h?"bg-green-600 hover:bg-green-700":"",children:h?e.jsx(D,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Share on Social Media"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(x,{onClick:()=>g("twitter"),variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:"Twitter"}),e.jsx(x,{onClick:()=>g("linkedin"),variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:"LinkedIn"}),e.jsx(x,{onClick:()=>g("facebook"),variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:"Facebook"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(E,{className:"w-4 h-4 mr-2 text-blue-600"}),"Commission Structure"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"20%"})," recurring commission on all plans"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"$50"})," bonus for first 5 referrals"]}),e.jsx("li",{children:"• Monthly payouts via Stripe"}),e.jsx("li",{children:"• 90-day cookie duration"})]})]})]})]})}),e.jsx(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60",children:[e.jsx(n,{children:e.jsx(o,{children:"This Month"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"New Referrals"}),e.jsx("span",{className:"font-semibold",children:"3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Conversions"}),e.jsx("span",{className:"font-semibold",children:"2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Commission Earned"}),e.jsx("span",{className:"font-semibold text-green-600",children:"$450.00"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Pending Payout"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:["$",m.pendingCommissions.toFixed(2)]})]})]})]})})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"mt-8",children:e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60",children:[e.jsx(n,{children:e.jsx(o,{children:"Recent Activity"})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:[{type:"signup",name:"John Smith",email:"john@freightco.com",date:"2 hours ago",status:"Trial Started"},{type:"conversion",name:"Sarah Chen",email:"sarah@logistics.net",date:"1 day ago",status:"Upgraded to Growth"},{type:"signup",name:"Mike Rodriguez",email:"mike@shipping.com",date:"3 days ago",status:"Trial Started"}].map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.type==="conversion"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:s.type==="conversion"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(u,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(j,{className:s.type==="conversion"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:s.status}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.date})]})]},a))})})]})})]})}):e.jsx("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-blue-50/30 min-h-screen",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(i,{className:"bg-white/80 backdrop-blur-sm shadow-lg border border-gray-200/60",children:e.jsxs(l,{className:"p-8 text-center",children:[e.jsx(O,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Join Our Affiliate Program"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Partner with us and earn generous commissions by referring new customers to Logistic Intel."}),e.jsx(x,{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Apply to Join"})]})})})})}export{se as default};
