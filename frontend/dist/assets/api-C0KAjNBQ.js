const l=(()=>{const t="https://lit-caller-gw-2e68g4k3.uc.gateway.dev";return t.endsWith("/public")?t:t.endsWith("/public/")?t.slice(0,-1):t.replace(/\/$/,"")+"/public"})();async function p(t={},i){const a=await fetch(`${l}/getFilterOptions`,{method:"GET",headers:{"content-type":"application/json",accept:"application/json"},signal:i});if(a.status===422){const e=await a.json().catch(()=>({message:"Validation error"}));throw console.error("getFilterOptions validation error",(e==null?void 0:e.fieldErrors)||e),new Error("Invalid filters request. Please adjust and retry.")}if(!a.ok)throw new Error(`getFilterOptions ${a.status}`);return a.json()}async function f(t,i){var s,o,n,c;const a={data:{search:{q:t.q??"",mode:t.mode??"all"},filters:t.filters??{},dateRange:{from:((s=t.dateRange)==null?void 0:s.from)??void 0,to:((o=t.dateRange)==null?void 0:o.to)??void 0},pagination:{limit:((n=t.pagination)==null?void 0:n.limit)??10,offset:((c=t.pagination)==null?void 0:c.offset)??0}}},e=await fetch(`${l}/searchCompanies`,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(a),signal:i});if(e.status===422){const r=await e.json().catch(()=>({message:"Validation error"}));throw console.error("searchCompanies validation error",(r==null?void 0:r.fieldErrors)||r),new Error("Your search has invalid parameters. Please review filters.")}if(!e.ok)throw new Error(`searchCompanies ${e.status}`);return e.json()}export{p as g,f as s};
