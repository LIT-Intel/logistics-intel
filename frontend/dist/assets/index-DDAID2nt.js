import{j as t,r as l}from"./main-mKPugC2G.js";import{W as x,C as y}from"./Workspace-BbUFDQWm.js";import"./api-DYWG1ds8.js";import"./generateCategoricalChart-Bnm2mogi.js";import"./isEqual-D_eoAh88.js";import"./LineChart-CJ9ugRva.js";import"./BarChart-Br8KPXhI.js";import"./sparkles-B4ErFUg0.js";function S(){return t.jsx("span",{"aria-hidden":!0,className:"inline-block h-5 w-5 rounded-lg bg-gradient-to-br from-indigo-500 via-fuchsia-500 to-rose-500 shadow-sm"})}const p="lit_companies";function I(){const[u,f]=l.useState(!1),[c,d]=l.useState([]);l.useEffect(()=>{try{const a=localStorage.getItem(p),o=localStorage.getItem("manualCompanies"),n=a?JSON.parse(a):[],i=o?JSON.parse(o):[],e=new Map;[...n,...i].forEach(s=>{const g=String((s==null?void 0:s.id)||(s==null?void 0:s.company_id)||"");g&&(e.has(g)||e.set(g,s))});const r=Array.from(e.values());r.length&&d(r)}catch{}const m=a=>{if(a.key===p||a.key==="manualCompanies")try{const o=JSON.parse(localStorage.getItem(p)||"[]"),n=JSON.parse(localStorage.getItem("manualCompanies")||"[]"),i=new Map;[...o,...n].forEach(e=>{const r=String((e==null?void 0:e.id)||(e==null?void 0:e.company_id)||"");r&&!i.has(r)&&i.set(r,e)}),d(Array.from(i.values()))}catch{}};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]),l.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify(c))}catch{}},[c]);function h(m,a){const o={id:m,name:a,kpis:{shipments12m:0,lastActivity:null,originsTop:[],destsTop:[],carriersTop:[]},charts:{growth:[],ecosystem:[],competition:[{k:"Scale",[a]:7,Market:7}],sourcing:[]},ai:{summary:"Pending enrichment…",bullets:["—"]}};d(n=>[o,...n])}return t.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-gray-50 to-white",children:[t.jsx("div",{className:"px-6 py-4",children:t.jsxs("header",{className:"mb-4 flex items-center gap-3",children:[t.jsx(S,{}),t.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"LIT Command Center"})]})}),t.jsx("main",{className:"pl-4 pr-[10px] py-2",children:t.jsx(x,{companies:c,onAdd:()=>f(!0)})}),t.jsx(y,{open:u,onClose:()=>f(!1),onCreated:h})]})}export{I as default};
