import{c as Se,r as n,j as e,f as Y,g as ut,a as ge,T as we,B as F,u as ht,S as be}from"./main-D6vxZYeV.js";import{u as Ne,C as xt}from"./CompanyDrawer-LaqMBY7m.js";import{g as pt,p as ye}from"./api-kmcxhiMt.js";import{User as ft}from"./entities-CpFcElq0.js";import{I as gt}from"./input-B5GH_Rvh.js";import{c as ve}from"./index-DR9D_4bA.js";import{S as je}from"./skeleton-JOqnEtED.js";import{C as bt}from"./checkbox-Kg7qxtvj.js";import{c as Ce,u as yt,a as vt}from"./select-BHr66boF.js";import{u as jt,c as _t,a as St,b as H,P as W,d as wt}from"./index-ljTxVNh-.js";import{C as ke}from"./circle-alert-dJr9XBe9.js";import{B as Ae,C as Nt,c as Ct}from"./CompanyDetailModal-BgLWUFMt.js";import{B as Pe}from"./badge-B9CpQrvY.js";import{M as kt,i as At,u as Re,P as Pt,a as Rt,b as Et,L as Dt,m as ie}from"./proxy-j0B_8kLH.js";import{C as Ee}from"./calendar-o5yO7QKq.js";import{S as De}from"./ship-PN2S97eh.js";import{L as Me}from"./loader-circle-DYBTYwGO.js";import{B as Ie,C as Mt}from"./NotesTab-BToip9K3.js";import{f as ze}from"./format-DIePDvv_.js";import{L as It}from"./list-U8lBdCyd.js";import{U as zt}from"./UpgradePrompt-DBhTHX1r.js";import"./tabs-gCRSLrvN.js";import"./index-Cy6wi5M3.js";import"./base44Client-C-YMJfZQ.js";import"./dialog-BmVqZCvB.js";import"./functions-DItVLH8t.js";import"./lock-BAV4dFnT.js";import"./truck-DGckJkxM.js";import"./label-CbJd33yU.js";import"./plus-UVBAYAVX.js";import"./users-Cr7WCzdi.js";import"./message-square-DwfzN-MB.js";import"./trash-2-BI3Qmbxf.js";import"./textarea-6DnRwPRj.js";import"./crown-B0v_2L4T.js";import"./zap-Ph9GiUg5.js";import"./arrow-right-Ab1fwArC.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lt=Se("ChevronLeft",Ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Bt=Se("LayoutGrid",Tt);class Ot extends n.Component{getSnapshotBeforeUpdate(a){const i=this.props.childRef.current;if(i&&a.isPresent&&!this.props.isPresent){const l=i.offsetParent,c=At(l)&&l.offsetWidth||0,t=this.props.sizeRef.current;t.height=i.offsetHeight||0,t.width=i.offsetWidth||0,t.top=i.offsetTop,t.left=i.offsetLeft,t.right=c-t.width-t.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $t({children:r,isPresent:a,anchorX:i,root:l}){const c=n.useId(),t=n.useRef(null),d=n.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=n.useContext(kt);return n.useInsertionEffect(()=>{const{width:x,height:p,top:u,left:s,right:o}=d.current;if(a||!t.current||!x||!p)return;const m=i==="left"?`left: ${s}`:`right: ${o}`;t.current.dataset.motionPopId=c;const g=document.createElement("style");h&&(g.nonce=h);const b=l??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${p}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[a]),e.jsx(Ot,{isPresent:a,childRef:t,sizeRef:d,children:n.cloneElement(r,{ref:t})})}const Vt=({children:r,initial:a,isPresent:i,onExitComplete:l,custom:c,presenceAffectsLayout:t,mode:d,anchorX:h,root:x})=>{const p=Re(Kt),u=n.useId();let s=!0,o=n.useMemo(()=>(s=!1,{id:u,initial:a,isPresent:i,custom:c,onExitComplete:m=>{p.set(m,!0);for(const g of p.values())if(!g)return;l&&l()},register:m=>(p.set(m,!1),()=>p.delete(m))}),[i,p,l]);return t&&s&&(o={...o}),n.useMemo(()=>{p.forEach((m,g)=>p.set(g,!1))},[i]),n.useEffect(()=>{!i&&!p.size&&l&&l()},[i]),d==="popLayout"&&(r=e.jsx($t,{isPresent:i,anchorX:h,root:x,children:r})),e.jsx(Pt.Provider,{value:o,children:r})};function Kt(){return new Map}const ee=r=>r.key||"";function _e(r){const a=[];return n.Children.forEach(r,i=>{n.isValidElement(i)&&a.push(i)}),a}const Ut=({children:r,custom:a,initial:i=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:t="sync",propagate:d=!1,anchorX:h="left",root:x})=>{const[p,u]=Rt(d),s=n.useMemo(()=>_e(r),[r]),o=d&&!p?[]:s.map(ee),m=n.useRef(!0),g=n.useRef(s),b=Re(()=>new Map),[_,y]=n.useState(s),[j,w]=n.useState(s);Et(()=>{m.current=!1,g.current=s;for(let P=0;P<j.length;P++){const S=ee(j[P]);o.includes(S)?b.delete(S):b.get(S)!==!0&&b.set(S,!1)}},[j,o.length,o.join("-")]);const v=[];if(s!==_){let P=[...s];for(let S=0;S<j.length;S++){const D=j[S],L=ee(D);o.includes(L)||(P.splice(S,0,D),v.push(D))}return t==="wait"&&v.length&&(P=v),w(_e(P)),y(s),null}const{forceRender:A}=n.useContext(Dt);return e.jsx(e.Fragment,{children:j.map(P=>{const S=ee(P),D=d&&!p?!1:s===j||o.includes(S),L=()=>{if(b.has(S))b.set(S,!0);else return;let M=!0;b.forEach(C=>{C||(M=!1)}),M&&(A==null||A(),w(g.current),d&&(u==null||u()),l&&l())};return e.jsx(Vt,{isPresent:D,initial:!m.current||i?void 0:!1,custom:a,presenceAffectsLayout:c,mode:t,root:x,onExitComplete:D?void 0:L,anchorX:h,children:P},S)})})};var Fe=["PageUp","PageDown"],Le=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},G="Slider",[se,Ht,Yt]=St(G),[Be,Xs]=_t(G,[Yt]),[Gt,te]=Be(G),Oe=n.forwardRef((r,a)=>{const{name:i,min:l=0,max:c=100,step:t=1,orientation:d="horizontal",disabled:h=!1,minStepsBetweenThumbs:x=0,defaultValue:p=[l],value:u,onValueChange:s=()=>{},onValueCommit:o=()=>{},inverted:m=!1,form:g,...b}=r,_=n.useRef(new Set),y=n.useRef(0),w=d==="horizontal"?Qt:qt,[v=[],A]=jt({prop:u,defaultProp:p,onChange:C=>{var T;(T=[..._.current][y.current])==null||T.focus(),s(C)}}),P=n.useRef(v);function S(C){const I=es(v,C);M(C,I)}function D(C){M(C,y.current)}function L(){const C=P.current[y.current];v[y.current]!==C&&o(v)}function M(C,I,{commit:T}={commit:!1}){const Q=as(t),q=is(Math.round((C-l)/t)*t+l,Q),V=Ce(q,[l,c]);A((B=[])=>{const z=Zt(B,V,I);if(rs(z,x*t)){y.current=z.indexOf(V);const X=String(z)!==String(B);return X&&T&&o(z),X?z:B}else return B})}return e.jsx(Gt,{scope:r.__scopeSlider,name:i,disabled:h,min:l,max:c,valueIndexToChangeRef:y,thumbs:_.current,values:v,orientation:d,form:g,children:e.jsx(se.Provider,{scope:r.__scopeSlider,children:e.jsx(se.Slot,{scope:r.__scopeSlider,children:e.jsx(w,{"aria-disabled":h,"data-disabled":h?"":void 0,...b,ref:a,onPointerDown:H(b.onPointerDown,()=>{h||(P.current=v)}),min:l,max:c,inverted:m,onSlideStart:h?void 0:S,onSlideMove:h?void 0:D,onSlideEnd:h?void 0:L,onHomeKeyDown:()=>!h&&M(l,0,{commit:!0}),onEndKeyDown:()=>!h&&M(c,v.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:I})=>{if(!h){const q=Fe.includes(C.key)||C.shiftKey&&Le.includes(C.key)?10:1,V=y.current,B=v[V],z=t*q*I;M(B+z,V,{commit:!0})}}})})})})});Oe.displayName=G;var[$e,Ve]=Be(G,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qt=n.forwardRef((r,a)=>{const{min:i,max:l,dir:c,inverted:t,onSlideStart:d,onSlideMove:h,onSlideEnd:x,onStepKeyDown:p,...u}=r,[s,o]=n.useState(null),m=Y(a,w=>o(w)),g=n.useRef(void 0),b=wt(c),_=b==="ltr",y=_&&!t||!_&&t;function j(w){const v=g.current||s.getBoundingClientRect(),A=[0,v.width],S=ne(A,y?[i,l]:[l,i]);return g.current=v,S(w-v.left)}return e.jsx($e,{scope:r.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:e.jsx(Ke,{dir:b,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const v=j(w.clientX);d==null||d(v)},onSlideMove:w=>{const v=j(w.clientX);h==null||h(v)},onSlideEnd:()=>{g.current=void 0,x==null||x()},onStepKeyDown:w=>{const A=Te[y?"from-left":"from-right"].includes(w.key);p==null||p({event:w,direction:A?-1:1})}})})}),qt=n.forwardRef((r,a)=>{const{min:i,max:l,inverted:c,onSlideStart:t,onSlideMove:d,onSlideEnd:h,onStepKeyDown:x,...p}=r,u=n.useRef(null),s=Y(a,u),o=n.useRef(void 0),m=!c;function g(b){const _=o.current||u.current.getBoundingClientRect(),y=[0,_.height],w=ne(y,m?[l,i]:[i,l]);return o.current=_,w(b-_.top)}return e.jsx($e,{scope:r.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:e.jsx(Ke,{"data-orientation":"vertical",...p,ref:s,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const _=g(b.clientY);t==null||t(_)},onSlideMove:b=>{const _=g(b.clientY);d==null||d(_)},onSlideEnd:()=>{o.current=void 0,h==null||h()},onStepKeyDown:b=>{const y=Te[m?"from-bottom":"from-top"].includes(b.key);x==null||x({event:b,direction:y?-1:1})}})})}),Ke=n.forwardRef((r,a)=>{const{__scopeSlider:i,onSlideStart:l,onSlideMove:c,onSlideEnd:t,onHomeKeyDown:d,onEndKeyDown:h,onStepKeyDown:x,...p}=r,u=te(G,i);return e.jsx(W.span,{...p,ref:a,onKeyDown:H(r.onKeyDown,s=>{s.key==="Home"?(d(s),s.preventDefault()):s.key==="End"?(h(s),s.preventDefault()):Fe.concat(Le).includes(s.key)&&(x(s),s.preventDefault())}),onPointerDown:H(r.onPointerDown,s=>{const o=s.target;o.setPointerCapture(s.pointerId),s.preventDefault(),u.thumbs.has(o)?o.focus():l(s)}),onPointerMove:H(r.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&c(s)}),onPointerUp:H(r.onPointerUp,s=>{const o=s.target;o.hasPointerCapture(s.pointerId)&&(o.releasePointerCapture(s.pointerId),t(s))})})}),Ue="SliderTrack",He=n.forwardRef((r,a)=>{const{__scopeSlider:i,...l}=r,c=te(Ue,i);return e.jsx(W.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...l,ref:a})});He.displayName=Ue;var re="SliderRange",Ye=n.forwardRef((r,a)=>{const{__scopeSlider:i,...l}=r,c=te(re,i),t=Ve(re,i),d=n.useRef(null),h=Y(a,d),x=c.values.length,p=c.values.map(o=>qe(o,c.min,c.max)),u=x>1?Math.min(...p):0,s=100-Math.max(...p);return e.jsx(W.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...l,ref:h,style:{...r.style,[t.startEdge]:u+"%",[t.endEdge]:s+"%"}})});Ye.displayName=re;var ae="SliderThumb",Ge=n.forwardRef((r,a)=>{const i=Ht(r.__scopeSlider),[l,c]=n.useState(null),t=Y(a,h=>c(h)),d=n.useMemo(()=>l?i().findIndex(h=>h.ref.current===l):-1,[i,l]);return e.jsx(Wt,{...r,ref:t,index:d})}),Wt=n.forwardRef((r,a)=>{const{__scopeSlider:i,index:l,name:c,...t}=r,d=te(ae,i),h=Ve(ae,i),[x,p]=n.useState(null),u=Y(a,j=>p(j)),s=x?d.form||!!x.closest("form"):!0,o=yt(x),m=d.values[l],g=m===void 0?0:qe(m,d.min,d.max),b=Jt(l,d.values.length),_=o==null?void 0:o[h.size],y=_?ts(_,g,h.direction):0;return n.useEffect(()=>{if(x)return d.thumbs.add(x),()=>{d.thumbs.delete(x)}},[x,d.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${g}% + ${y}px)`},children:[e.jsx(se.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(W.span,{role:"slider","aria-label":r["aria-label"]||b,"aria-valuemin":d.min,"aria-valuenow":m,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...t,ref:u,style:m===void 0?{display:"none"}:r.style,onFocus:H(r.onFocus,()=>{d.valueIndexToChangeRef.current=l})})}),s&&e.jsx(Qe,{name:c??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:m},l)]})});Ge.displayName=ae;var Xt="RadioBubbleInput",Qe=n.forwardRef(({__scopeSlider:r,value:a,...i},l)=>{const c=n.useRef(null),t=Y(c,l),d=vt(a);return n.useEffect(()=>{const h=c.current;if(!h)return;const x=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(x,"value").set;if(d!==a&&u){const s=new Event("input",{bubbles:!0});u.call(h,a),h.dispatchEvent(s)}},[d,a]),e.jsx(W.input,{style:{display:"none"},...i,ref:t,defaultValue:a})});Qe.displayName=Xt;function Zt(r=[],a,i){const l=[...r];return l[i]=a,l.sort((c,t)=>c-t)}function qe(r,a,i){const t=100/(i-a)*(r-a);return Ce(t,[0,100])}function Jt(r,a){return a>2?`Value ${r+1} of ${a}`:a===2?["Minimum","Maximum"][r]:void 0}function es(r,a){if(r.length===1)return 0;const i=r.map(c=>Math.abs(c-a)),l=Math.min(...i);return i.indexOf(l)}function ts(r,a,i){const l=r/2,t=ne([0,50],[0,l]);return(l-t(a)*i)*i}function ss(r){return r.slice(0,-1).map((a,i)=>r[i+1]-a)}function rs(r,a){if(a>0){const i=ss(r);return Math.min(...i)>=a}return!0}function ne(r,a){return i=>{if(r[0]===r[1]||a[0]===a[1])return a[0];const l=(a[1]-a[0])/(r[1]-r[0]);return a[0]+l*(i-r[0])}}function as(r){return(String(r).split(".")[1]||"").length}function is(r,a){const i=Math.pow(10,a);return Math.round(r*i)/i}var We=Oe,ns=He,os=Ye,ls=Ge;const Xe=n.forwardRef(({className:r,...a},i)=>e.jsxs(We,{ref:i,className:ut("relative flex w-full touch-none select-none items-center",r),...a,children:[e.jsx(ns,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(os,{className:"absolute h-full bg-primary"})}),e.jsx(ls,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Xe.displayName=We.displayName;function ds(r){if(!r)return{};const a=r.data?r.data:r;return{origin_countries:Array.isArray(a.origin_countries)?a.origin_countries:Array.isArray(a.origins)?a.origins:[],destination_countries:Array.isArray(a.destination_countries)?a.destination_countries:Array.isArray(a.destinations)?a.destinations:[],modes:Array.isArray(a.modes)?a.modes:[],carriers:Array.isArray(a.carriers)?a.carriers:[],hs_prefixes:Array.isArray(a.hs_prefixes)?a.hs_prefixes:Array.isArray(a.hs_codes)?a.hs_codes:[]}}function cs({onChange:r}){const[a,i]=n.useState({origins:[],destinations:[],modes:[],carriers:[],hs:[]}),[l,c]=n.useState(!1),[t,d]=n.useState({origin:"",destination:"",mode:"any",date_start:"",date_end:"",carrier:"",hs:[],hs_text:"",origin_city:"",origin_state:"",origin_zip:"",dest_city:"",dest_state:"",dest_zip:"",value_min:0,value_max:0}),{data:h,isLoading:x,error:p}=Ne({queryKey:["filter-options"],queryFn:()=>pt({}),staleTime:1e3*60*10});n.useEffect(()=>{if(h){const s=ds(h);i({origins:s.origin_countries.sort(),destinations:s.destination_countries.sort(),modes:s.modes.sort(),carriers:s.carriers.sort(),hs:s.hs_prefixes.sort()})}},[h]),n.useEffect(()=>{const s=setTimeout(()=>{r==null||r(t)},300);return()=>clearTimeout(s)},[t,r]);const u=(s,o)=>{if(s==="origin_city"||s==="dest_city"){d(m=>({...m,[s]:o}));return}if(s==="origin_state"||s==="dest_state"){const m=(o||"").toUpperCase().slice(0,2);d(g=>({...g,[s]:m}));return}if(s==="origin_zip"||s==="dest_zip"){const m=String(o||"").replace(/[^0-9]/g,"").slice(0,10);d(g=>({...g,[s]:m}));return}d(m=>({...m,[s]:o}))};return p?e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md my-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-red-700",children:["Could not load search filters. Please try again later. (",p.message||String(p),")"]})})]})}):x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:Array.from({length:5}).map((s,o)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(je,{className:"h-4 w-24"}),e.jsx(je,{className:"h-10 w-full"})]},o))}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{type:"button",className:"md:hidden inline-flex items-center px-3 py-2 text-sm rounded-lg border bg-white",onClick:()=>c(s=>!s),children:l?"Hide Filters":"Show Filters"}),e.jsx("div",{})]}),e.jsxs("div",{className:`${l?"grid":"hidden"} md:grid grid-cols-1 md:grid-cols-6 gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"origin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin Country"}),e.jsxs("select",{id:"origin",value:t.origin,onChange:s=>u("origin",s.target.value),disabled:x,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:"Any Origin"}),a.origins.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination Country"}),e.jsxs("select",{id:"destination",value:t.destination,onChange:s=>u("destination",s.target.value),disabled:x,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:"Any Destination"}),a.destinations.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"origin_city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin City"}),e.jsx("input",{id:"origin_city",type:"text",value:t.origin_city,onChange:s=>u("origin_city",s.target.value),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., Los Angeles"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"origin_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin State"}),e.jsx("input",{id:"origin_state",type:"text",value:t.origin_state,onChange:s=>u("origin_state",s.target.value.toUpperCase().slice(0,2)),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., CA"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"origin_zip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin ZIP"}),e.jsx("input",{id:"origin_zip",type:"text",inputMode:"numeric",pattern:"\\\\d*",value:t.origin_zip,onChange:s=>u("origin_zip",s.target.value.replace(/[^0-9]/g,"").slice(0,10)),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., 90001"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dest_city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination City"}),e.jsx("input",{id:"dest_city",type:"text",value:t.dest_city,onChange:s=>u("dest_city",s.target.value),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., Shanghai"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dest_state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination State"}),e.jsx("input",{id:"dest_state",type:"text",value:t.dest_state,onChange:s=>u("dest_state",s.target.value.toUpperCase().slice(0,2)),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., NY"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dest_zip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination ZIP"}),e.jsx("input",{id:"dest_zip",type:"text",inputMode:"numeric",pattern:"\\\\d*",value:t.dest_zip,onChange:s=>u("dest_zip",s.target.value.replace(/[^0-9]/g,"").slice(0,10)),disabled:x,className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",placeholder:"e.g., 10001"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),e.jsx("div",{className:"flex items-center gap-4 text-sm",children:["any","air","ocean"].map(s=>e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"mode",value:s,checked:t.mode===s,onChange:o=>u("mode",o.target.value)}),e.jsx("span",{className:"capitalize",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"carrier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier"}),e.jsxs("select",{id:"carrier",value:t.carrier,onChange:s=>u("carrier",s.target.value),disabled:x,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:"Any Carrier"}),a.carriers.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HS Codes"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.hs.slice(0,12).map(s=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(bt,{checked:t.hs.includes(s),onCheckedChange:o=>{const m=new Set(t.hs);o?m.add(s):m.delete(s),u("hs",Array.from(m))}}),e.jsx("span",{children:s})]},s))}),e.jsx("input",{type:"text",value:t.hs_text,onChange:s=>u("hs_text",s.target.value),placeholder:"Comma-separated HS codes (e.g., 8471, 9403)",className:"mt-2 block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipment Value (USD)"}),e.jsxs("div",{className:"px-2",children:[e.jsx(Xe,{min:0,max:1e6,step:1e4,value:[t.value_min,t.value_max||1e6],onValueChange:([s,o])=>d(m=>({...m,value_min:s,value_max:o}))}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[e.jsxs("span",{children:["$","{",t.value_min.toLocaleString(),"}"]}),e.jsxs("span",{children:["$","{",(t.value_max||1e6).toLocaleString(),"}"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Start"}),e.jsx("input",{type:"date",id:"date_start",value:t.date_start,onChange:s=>u("date_start",s.target.value),className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date End"}),e.jsx("input",{type:"date",id:"date_end",value:t.date_end,onChange:s=>u("date_end",s.target.value),className:"block w-full pl-3 pr-2 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]})]})]})}function ms({company:r,onSelect:a,onSave:i,isSaving:l,isSaved:c,isNew:t,onStartOutreach:d,onDraftRFP:h,savingCompanyId:x}){var s;const p=o=>o?o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(0)}K`:o.toLocaleString():"0",u=x===r.id;return e.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 md:p-5 shadow-lg border border-gray-200/60 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a(r),children:[t&&e.jsx("div",{className:"mb-3",children:e.jsx(Pe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:"New Shipper"})}),e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate text-lg mb-1",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsxs("span",{children:["ID: ",r.id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 font-medium mb-1",children:[e.jsx(we,{className:"w-3 h-3"}),"Shipments (12M)"]}),e.jsx("div",{className:"text-lg font-bold text-blue-900",children:p(r.shipments_12m||((s=r==null?void 0:r.kpis)==null?void 0:s.shipments_12m))})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 font-medium mb-1",children:[e.jsx(Ee,{className:"w-3 h-3"}),"Last Activity"]}),e.jsx("div",{className:"text-sm font-bold text-purple-900",children:r.last_seen?ze(new Date(r.last_seen),"MMM d"):"N/A"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Top Route:"}),e.jsx("span",{className:"font-medium text-gray-900 truncate flex-1",children:r.top_route||(r.origin&&r.destination?`${r.origin} → ${r.destination}`:"Various routes")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Top Carrier:"}),e.jsx("span",{className:"font-medium text-gray-900 truncate flex-1",children:r.top_carrier||"Multiple carriers"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-1",onClick:o=>o.stopPropagation(),children:[e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>i(r),disabled:u||c,className:"flex-1",children:[u&&e.jsx(Me,{className:"mr-2 h-3 w-3 animate-spin"}),c?e.jsx(Ae,{className:"w-3 h-3 mr-1 text-blue-600"}):e.jsx(Ie,{className:"w-3 h-3 mr-1"}),c?"Saved":"Save"]}),e.jsx(F,{size:"sm",onClick:o=>{o.stopPropagation(),c?window.location.href=`/app/companies/${r.id||r.company_id}`:a(r)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"View"})]})]})}function us({company:r,onSelect:a,onSave:i,isSaving:l,isSaved:c,isNew:t,onStartOutreach:d,onDraftRFP:h,savingCompanyId:x,index:p=0}){const u=o=>o?o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(0)}K`:o.toLocaleString():"0",s=x===r.id;return e.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.05},className:"p-4 hover:bg-gray-50 transition-all duration-200 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>a(r),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:r.name}),t&&e.jsx(Pe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs",children:"New"})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["ID: ",r.id]}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:(r.summary||r.description||`Top route ${r.top_route||"various"}; top carrier ${r.top_carrier||"various"}.`).toString()}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"})," Shipments (12M): ",e.jsx("b",{className:"text-gray-900 ml-1",children:u(r.shipments_12m)})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3 h-3"})," Last: ",e.jsx("b",{className:"text-gray-900 ml-1",children:r.last_seen?ze(new Date(r.last_seen),"MMM d"):"N/A"})]}),e.jsxs("span",{className:"hidden md:flex items-center gap-1",children:[e.jsx(De,{className:"w-3 h-3"})," Route: ",e.jsx("b",{className:"text-gray-900 ml-1 truncate max-w-[220px]",children:r.top_route||"Various"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:o=>o.stopPropagation(),children:[e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>i(r),disabled:s||c,children:[s&&e.jsx(Me,{className:"mr-2 h-3 w-3 animate-spin"}),c?e.jsx(Ae,{className:"w-3 h-3 mr-1 text-blue-600"}):e.jsx(Ie,{className:"w-3 h-3 mr-1"}),c?"Saved":"Save"]}),e.jsx(F,{size:"sm",onClick:()=>{c?window.location.href=`/app/companies/${r.id||r.company_id}`:a(r)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"View"})]})]})})}function hs({searchResults:r,totalResults:a,isLoading:i,onCompanySelect:l,onSave:c,onStartOutreach:t,onDraftRFP:d,user:h,newShipperEvents:x,savedCompanyIds:p,savingCompanyId:u,viewMode:s,setViewMode:o,currentPage:m,totalPages:g,onPageChange:b}){const _=r&&r.length>0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Search Results"}),!i&&e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Found ",Number(a||0).toLocaleString()," companies • Showing ",(r==null?void 0:r.length)||0," on this page"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[e.jsxs(F,{size:"sm",variant:s==="grid"?"secondary":"ghost",onClick:()=>o("grid"),className:"h-8 px-3",children:[e.jsx(Bt,{className:"w-4 h-4 mr-1"}),"Cards"]}),e.jsxs(F,{size:"sm",variant:s==="list"?"secondary":"ghost",onClick:()=>o("list"),className:"h-8 px-3",children:[e.jsx(It,{className:"w-4 h-4 mr-1"}),"List"]})]}),g>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>b(m-1),disabled:m===1||i,className:"h-8",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-gray-600 px-2",children:["Page ",m," of ",g]}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>b(m+1),disabled:m>=g||i,className:"h-8",children:e.jsx(Mt,{className:"h-4 w-4"})})]})]})]}),i?e.jsx("div",{className:`grid gap-4 md:gap-6 ${s==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:Array.from({length:12}).map((y,j)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"})]})]},j))}):_?e.jsxs("div",{className:`grid gap-4 md:gap-6 ${s==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:[e.jsx(Ut,{children:r.map(y=>{const j=y.company_id||y.id,w=u===j,v=p.has(j),A=x.includes(j);return s==="grid"?e.jsx(ms,{company:y,onSelect:l,onSave:c,isSaving:w,isSaved:v,isNew:A,onStartOutreach:t,onDraftRFP:d,savingCompanyId:u},j):e.jsx(us,{company:y,onSelect:l,onSave:c,isSaving:w,isSaved:v,isNew:A,onStartOutreach:t,onDraftRFP:d,savingCompanyId:u},j)})}),m<g&&e.jsx("div",{className:"col-span-full flex justify-center mt-2",children:e.jsx(F,{variant:"outline",onClick:()=>b(m+1),disabled:i,children:"Load More"})})]}):e.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-2xl border border-dashed border-gray-300",children:[e.jsx(ke,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No results found"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 max-w-sm mx-auto",children:"Try adjusting your search query or filters to find companies."})]})]})}const K=25;function Zs(){var me,ue,he,xe,pe;const r=ht(),[a,i]=n.useState(null),[l,c]=n.useState(""),[t,d]=n.useState({mode:"any",origin:"",destination:"",carrier:"",hs:[],date_start:null,date_end:null}),[h,x]=n.useState([]),[p,u]=n.useState(!1),[s,o]=n.useState(""),[m,g]=n.useState(null),[b,_]=n.useState(!1),[y,j]=n.useState(!1),[w,v]=n.useState(""),[A,P]=n.useState(1),[S,D]=n.useState(0),[L,M]=n.useState(new Set),[C,I]=n.useState(null),[T,Q]=n.useState(null),[q,V]=n.useState("grid"),[B,z]=n.useState(!1),[X,Ze]=n.useState(""),[oe,Je]=n.useState(!1);n.useEffect(()=>{const f=setTimeout(()=>o(l),300);return()=>clearTimeout(f)},[l]),n.useEffect(()=>{oe&&Z(1)},[s,t]);const et=n.useMemo(()=>Math.max(1,Math.ceil((S||0)/K)),[S]),le=n.useCallback(async()=>{try{const f=await ft.me();i(f)}catch(f){console.error("Error loading user:",f)}},[]);n.useEffect(()=>{le()},[le]);const Z=n.useCallback(async f=>{const k=f||1;u(!0),Q(null),P(k),Je(!0);try{const R=(k-1)*K,N=(t.hs_text||"").split(",").map(E=>E.trim()).filter(Boolean),U=Array.isArray(t.hs)?Array.from(new Set([...t.hs.map(E=>String(E).trim()),...N])).filter(Boolean):N.length?N:void 0,O=t.mode&&t.mode!=="any"?t.mode==="air"?"AIR":"OCEAN":void 0,it={...t.origin?{origin_country:t.origin}:{},...t.destination?{dest_country:t.destination}:{},...t.origin_city?{origin_city:t.origin_city}:{},...t.origin_state?{origin_state:t.origin_state}:{},...t.origin_zip?{origin_postal:t.origin_zip}:{},...t.dest_city?{dest_city:t.dest_city}:{},...t.dest_state?{dest_state:t.dest_state}:{},...t.dest_zip?{dest_postal:t.dest_zip}:{},...O?{mode:O}:{},...t.carrier?{carrier:t.carrier}:{},...U&&U.length?{hs_codes:U}:{},...t.date_start?{date_start:t.date_start,start_date:t.date_start}:{},...t.date_end?{date_end:t.date_end,end_date:t.date_end}:{},limit:K,offset:R},$=await ye(it),nt=Array.isArray($==null?void 0:$.data)?$.data:[],ot=typeof($==null?void 0:$.total)=="number"?$.total:0,lt=nt.map(E=>{const fe=E.company_id,dt=E.company_name||"Unknown",ct=Array.isArray(E.top_routes)&&E.top_routes.length?E.top_routes[0]:void 0,mt=Array.isArray(E.top_carriers)&&E.top_carriers.length?E.top_carriers[0]:void 0;return{id:fe,company_id:fe,name:dt,shipments_12m:E.shipments_12m||0,last_seen:E.last_activity||null,top_route:ct,top_carrier:mt}});x(lt),D(ot)}catch(R){console.error("Search error:",R),Q((R==null?void 0:R.message)&&String(R.message)||"Search failed. Please try again."),x([]),D(0)}finally{u(!1)}},[l,t]),de=n.useMemo(()=>{const f=(t.hs_text||"").split(",").map(N=>N.trim()).filter(Boolean),k=Array.isArray(t.hs)?Array.from(new Set([...t.hs.map(N=>String(N).trim()),...f])).filter(Boolean):f.length?f:void 0,R=t.mode&&t.mode!=="any"?t.mode==="air"?"AIR":"OCEAN":void 0;return{...t.origin?{origin_country:t.origin}:{},...t.destination?{dest_country:t.destination}:{},...t.origin_city?{origin_city:t.origin_city}:{},...t.origin_state?{origin_state:t.origin_state}:{},...t.origin_zip?{origin_postal:t.origin_zip}:{},...t.dest_city?{dest_city:t.dest_city}:{},...t.dest_state?{dest_state:t.dest_state}:{},...t.dest_zip?{dest_postal:t.dest_zip}:{},...R?{mode:R}:{},...t.carrier?{carrier:t.carrier}:{},...k&&k.length?{hs_codes:k}:{},...t.date_start?{date_start:t.date_start,start_date:t.date_start}:{},...t.date_end?{date_end:t.date_end,end_date:t.date_end}:{},limit:K,offset:(A-1)*K}},[t,A]),J=Ne({queryKey:["searchCompanies",de],queryFn:async()=>{const f=await ye(de);return{rows:(Array.isArray(f==null?void 0:f.data)?f.data:[]).map(N=>({id:N.company_id,company_id:N.company_id,name:N.company_name||"Unknown",shipments_12m:N.shipments_12m||0,last_seen:N.last_activity||null,top_route:Array.isArray(N.top_routes)&&N.top_routes.length?N.top_routes[0]:void 0,top_carrier:Array.isArray(N.top_carriers)&&N.top_carriers.length?N.top_carriers[0]:void 0})),meta:{total:f.total,page:A,page_size:K}}},keepPreviousData:!0}),tt=n.useCallback(f=>{g(f),Ze(String((f==null?void 0:f.id)||(f==null?void 0:f.company_id)||"")),z(!0)},[]),ce=async f=>{if(C)return;const k=f.id;I(k);const R=new Set(L),N=R.has(k),U=new Set(R);N||U.add(k),M(U);try{const O=await Ct({name:f.name,website:f.website||void 0,external_ref:String(k)});if(!O||!O.id&&!O.ok)throw new Error("Save failed")}catch(O){console.error("Failed to save company:",O),M(R),alert("Failed to save company. Please try again.")}finally{I(null)}},st=f=>{const k=f.id;k&&r(ve("EmailCenter?company_id="+k))},rt=f=>{const k=f.id;k&&r(ve("RFPStudio?company_id="+k))},at=f=>{f>=1&&f<=et&&!p&&Z(f)};return e.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gradient-to-br from-gray-50 to-blue-50/30 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 lg:mb-8 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900",children:"Trade Intelligence Discovery"}),e.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Search companies by trade activity, routes, commodities, and shipping patterns"})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-4 md:p-6 mb-6 md:mb-8 border border-gray-200/60",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(gt,{value:l,onChange:f=>c(f.target.value),placeholder:"Search by company name or alias (e.g., UPS, Maersk)...",className:"pl-4 pr-12 py-3 text-base md:text-lg bg-gray-50 border-0 rounded-xl",onKeyDown:f=>{f.key==="Enter"&&Z(1)}}),e.jsx(be,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),e.jsx(F,{onClick:()=>Z(1),disabled:p,className:"px-6 md:px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl",children:p?"Searching...":"Search"})]})}),e.jsx(cs,{onChange:d}),T&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"font-semibold",children:"Search Error:"}),e.jsx("span",{children:T})]})}),oe?e.jsx(hs,{searchResults:((me=J.data)==null?void 0:me.rows)||h,totalResults:((he=(ue=J.data)==null?void 0:ue.meta)==null?void 0:he.total)||S,isLoading:p||J.isLoading,onCompanySelect:tt,onSave:ce,onStartOutreach:st,onDraftRFP:rt,user:a,newShipperEvents:[],savedCompanyIds:L,savingCompanyId:C,viewMode:q,setViewMode:V,currentPage:A,totalPages:Math.max(1,Math.ceil((((pe=(xe=J.data)==null?void 0:xe.meta)==null?void 0:pe.total)||S)/K||1)),onPageChange:at}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-dashed border-gray-300",children:[e.jsx(be,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Search"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mx-auto",children:"Enter a company name or use the filters above to search for trade intelligence data."})]}),e.jsx(zt,{isOpen:y,onClose:()=>j(!1),feature:w,currentPlan:a==null?void 0:a.plan}),e.jsx(Nt,{company:m,isOpen:b,onClose:()=>_(!1),onSave:ce,user:a,isSaved:L.has(m==null?void 0:m.id)})]}),e.jsx(xt,{id:X,open:B,onOpenChange:z})]})}export{Zs as default};
