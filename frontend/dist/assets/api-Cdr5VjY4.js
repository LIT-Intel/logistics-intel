const n=(()=>{const t="https://lit-caller-gw-2e68g4k3.uc.gateway.dev";return t.endsWith("/public")?t:t.endsWith("/public/")?t.slice(0,-1):t.replace(/\/$/,"")+"/public"})();async function $(t={},r){const e=await fetch(`${n}/getFilterOptions`,{method:"GET",headers:{"content-type":"application/json",accept:"application/json"},signal:r});if(e.status===422){const i=await e.json().catch(()=>({message:"Validation error"}));throw console.error("getFilterOptions validation error",(i==null?void 0:i.fieldErrors)||i),new Error("Invalid filters request. Please adjust and retry.")}if(!e.ok)throw new Error(`getFilterOptions ${e.status}`);return e.json()}async function S(t,r){var o,c,l,f,p,h,g,u,d,w,m,j,v,O,A;const e=((o=t.pagination)==null?void 0:o.limit)??10,i=((c=t.pagination)==null?void 0:c.offset)??0,E={q:t.q??"",mode:t.mode&&t.mode!=="all"?t.mode:void 0,hs:Array.isArray((l=t.filters)==null?void 0:l.hs)?(f=t.filters)==null?void 0:f.hs:void 0,origin:Array.isArray((p=t.filters)==null?void 0:p.origin)?(h=t.filters)==null?void 0:h.origin:(g=t.filters)!=null&&g.origin?[t.filters.origin]:void 0,dest:Array.isArray((u=t.filters)==null?void 0:u.destination)?(d=t.filters)==null?void 0:d.destination:(w=t.filters)!=null&&w.destination?[t.filters.destination]:void 0,carrier:Array.isArray((m=t.filters)==null?void 0:m.carrier)?(j=t.filters)==null?void 0:j.carrier:(v=t.filters)!=null&&v.carrier?[t.filters.carrier]:void 0,startDate:((O=t.dateRange)==null?void 0:O.from)??void 0,endDate:((A=t.dateRange)==null?void 0:A.to)??void 0,limit:e,offset:i},a=await fetch(`${n}/searchCompanies`,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(E),signal:r});if(a.status===422||a.status===400){const s=await a.json().catch(()=>({message:"Validation error"}));throw console.error("searchCompanies validation error",s),new Error((s==null?void 0:s.message)||"Invalid search parameters")}if(!a.ok)throw new Error(`searchCompanies ${a.status}`);return a.json()}async function T(t,r){const e=await fetch(`${n}/widgets/tariff/calc`,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(t||{}),signal:r});if(!e.ok)throw new Error(`calcTariff ${e.status}`);return e.json()}async function k(t,r){const e=await fetch(`${n}/widgets/quote/generate`,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(t||{}),signal:r});if(!e.ok)throw new Error(`generateQuote ${e.status}`);return e.json()}export{k as a,T as c,$ as g,S as s};
