openapi: 3.0.0
info:
  title: logistics-intel-api
  version: 1.0.0
servers:
  - url: https://logistics-intel-gateway-2e68g4k3.uc.gateway.dev
paths:
  /public/status:
    get:
      operationId: status
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: statusOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }

  /public/dashboard/summary:
    get:
      summary: Get dashboard summary
      operationId: publicDashboardSummary
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
    options:
      summary: CORS preflight
      operationId: corsPublicDashboardSummary
      responses:
        '204':
          description: No content
          headers:
            Access-Control-Allow-Origin:
              type: string
              default: "*"
            Access-Control-Allow-Methods:
              type: string
              default: "GET,OPTIONS"
            Access-Control-Allow-Headers:
              type: string
              default: "Content-Type,Authorization"
            Access-Control-Max-Age:
              type: string
              default: "3600"

  /public/getFilterOptions:
    get:
      operationId: getFilterOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: getFilterOptionsOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }

  /search:
    post:
      operationId: search
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: searchOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }

  /public/searchCompanies:
    post:
      operationId: searchCompanies
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: searchCompaniesOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }

  /crm/feature-flags:
    get:
      summary: Get feature flags
      operationId: crmFeatureFlags
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
    options:
      summary: CORS preflight
      operationId: corsCrmFeatureFlags
      responses:
        '204':
          description: No content
          headers:
            Access-Control-Allow-Origin:
              type: string
              default: "*"
            Access-Control-Allow-Methods:
              type: string
              default: "GET,OPTIONS"
            Access-Control-Allow-Headers:
              type: string
              default: "Content-Type,Authorization"
            Access-Control-Max-Age:
              type: string
              default: "3600"

  /public/getCompanyShipments:
    get:
      operationId: getCompanyShipments
      parameters:
        - in: query
          name: company_id
          schema: { type: string }
          required: true
        - in: query
          name: limit
          schema: { type: integer, default: 50 }
        - in: query
          name: offset
          schema: { type: integer, default: 0 }
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: getCompanyShipmentsOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }

  /public/contacts:
    get:
      operationId: contacts
      x-google-backend:
        address: https://crm-api-<hash>-uc.a.run.app
        protocol: h2
        jwt_audience: https://crm-api-<hash>-uc.a.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: query
          name: q
          schema: { type: string }
        - in: query
          name: company_id
          schema: { type: string }
        - in: query
          name: limit
          schema: { type: integer, default: 25 }
        - in: query
          name: offset
          schema: { type: integer, default: 0 }
      responses:
        '200':
          description: contacts

  /public/campaigns:
    get:
      operationId: listCampaigns
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses: { '200': { description: OK } }
    options:
      operationId: campaignsOptions
      x-google-backend:
        address: https://search-unified-187580267283.us-central1.run.app
        protocol: h2
        jwt_audience: https://search-unified-187580267283.us-central1.run.app
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204': { description: CORS preflight ok }
        '200': { description: CORS preflight ok }